# 模块化核心：导出和导入

node.js解析

## CommonJs

1. 在执行require函数才执行模块，立即执行函数防止变量污染
```js
(function(module) {
  //  初始化一个值 module.exports，作为返回值
  module.exports = {};
  const exports = module.exports;
  return module.exports;
})()
```

2. nodejs默认开启了模块缓存，如果加载的模块已经被加载过了，则会自动使用之前的导出结果

## ES6

1. script标签上加type="module"使js文件模块化，封闭作用域

2. 基本导入导出


- 导出单个数据 ```export const xxx = xxx / () =-  {} / ```
- 导出内容必须跟上声明表达式或具名符号 ```export 声明表达式 / export { 具名符号 }```

- 导入 ```import { 导入的符号列表 } from "文件路径"```
- 通过关键字```as```对导入的符号进行重命名,使用```*```号导入所有的基本导出，形成一个对象
- 导入的变量必须是常量(底层是const声明)

2. 默认导入导出

- 导出 ```export default A```     导出唯一的变量A，但只能导出一个
- 导入  ```import a form "文件路径"```  可以自定义导出变量的名字



